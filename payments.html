<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Understanding French-Speaking Africa | Conference Bitcoin Africa</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
  <!-- Icon -->
  <link rel="stylesheet" type="text/css" href="assets/fonts/line-icons.css">
  <!-- Slicknav -->
  <link rel="stylesheet" type="text/css" href="assets/css/slicknav.css">
  <!-- Nivo Lightbox -->
  <link rel="stylesheet" type="text/css" href="assets/css/nivo-lightbox.css">
  <!-- Animate -->
  <link rel="stylesheet" type="text/css" href="assets/css/animate.css">
  <!-- Main Style -->
  <link rel="stylesheet" type="text/css" href="assets/css/main.css">
  <!-- Responsive Style -->
  <link rel="stylesheet" type="text/css" href="assets/css/responsive.css">
</head>

<body>

  <!-- Header Area wrapper Starts -->
  <header id="header-wrap">
    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg fixed-top scrolling-navbar">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar"
            aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            <span class="icon-menu"></span>
            <span class="icon-menu"></span>
            <span class="icon-menu"></span>
          </button>
          <a href="index.html" class="navbar-brand"><img src="assets/img/logo.png"
              alt="Conference Bitcoin Africa Conference Logo"></a>
        </div>
        <div class="collapse navbar-collapse" id="main-navbar">
          <ul class="navbar-nav mr-auto w-100 justify-content-end">
            <li class="nav-item">
              <a class="nav-link" href="#header-wrap">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="speakers.html">Speakers</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html#schedules">Schedules</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html#faq">FAQ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html#sponsors">Sponsors</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#pricing">Pricing</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" target="_blank"
                href="https://docs.google.com/forms/d/e/1FAIpQLSeWrg06GtIKubbcN4lO9GS0YKGehOqsdRqPDNut1Y0ws86adA/viewform?usp=dialog">Contact</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./fr/index.html">French</a>
            </li>
          </ul>
        </div>
      </div>

      <!-- Mobile Menu Start -->
      <ul class="mobile-menu">
        <li><a class="page-scrool" href="#header-wrap">Home</a></li>
        <li><a class="page-scroll" href="speakers.html">Speakers</a></li>
        <li><a class="page-scroll" href="index.html#schedules">Schedules</a></li>
        <li><a class="page-scroll" href="index.html#faq">FAQ</a></li>
        <li><a class="page-scroll" href="index.html#sponsors">Sponsors</a></li>
        <li><a class="page-scroll" href="index.html#pricing">Pricing</a></li>
        <li>
          <a class="page-scroll"
            href="https://docs.google.com/forms/d/e/1FAIpQLSeWrg06GtIKubbcN4lO9GS0YKGehOqsdRqPDNut1Y0ws86adA/viewform?usp=dialog">Contact</a>
        </li>
        <li>
          <a class="page-scroll" href="./fr/index.html">French</a>
        </li>
      </ul>
      <!-- Mobile Menu End -->

    </nav>
    <!-- Navbar End -->

  </header>
  <!-- Header Area wrapper End -->

  <!-- Main Content Start -->
  <main class="container mt-5 pt-5">

    <!-- Section: Payment Form Start -->
    <section id="payment" class="section-padding bg-light">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div class="section-title-header text-center">
              <h2 class="section-title wow fadeInUp" data-wow-delay="0.2s">Purchase Your Pass</h2>
            </div>
          </div>
          <div class="col-md-6 offset-md-3">

            <!-- Loader placed ABOVE the form (hidden by default) -->
            <div id="preloader" style="display:none; text-align:center; margin-bottom:20px;">
              <div class="sk-circle" style="display:inline-block;">
                <div class="sk-circle1 sk-child"></div>
                <div class="sk-circle2 sk-child"></div>
                <div class="sk-circle3 sk-child"></div>
                <div class="sk-circle4 sk-child"></div>
                <div class="sk-circle5 sk-child"></div>
                <div class="sk-circle6 sk-child"></div>
                <div class="sk-circle7 sk-child"></div>
                <div class="sk-circle8 sk-child"></div>
                <div class="sk-circle9 sk-child"></div>
                <div class="sk-circle10 sk-child"></div>
                <div class="sk-circle11 sk-child"></div>
                <div class="sk-circle12 sk-child"></div>
              </div>
            </div>
            <!-- End of Loader -->

            <!-- The Payment Form -->
            <form onsubmit="event.preventDefault(); createInvoice();">
              <!-- Select Pass -->
              <div class="form-group">
                <label for="itemSelect">Choose Your Pass:</label>
                <select class="form-control" id="itemSelect" required>
                  <!-- Value format: itemName|price -->
                  <option value="Basic Pass|20">Basic Pass - $20</option>
                  <option value="Standard Pass|30">Standard Pass - $30</option>
                  <option value="Premium Pass|100">Premium Pass - $100</option>
                </select>
              </div>

              <!-- Email Address -->
              <div class="form-group">
                <label for="email">Your Email:</label>
                <input type="email" class="form-control" id="email" placeholder="Enter your email" required />
              </div>

              <!-- Submit Button -->
              <button type="submit" id="payButton" class="btn btn-success btn-block">Pay with Bitcoin</button>
            </form>
            <!-- End of Payment Form -->

          </div>
        </div>
      </div>
    </section>
    <!-- Section: Payment Form End -->

  </main>
  <!-- Main Content End -->

  <!-- Footer Section Start -->
  <footer class="footer-area section-padding">
    <div class="container">
      <div class="row">
        <div class="col-md-6 col-lg-3 col-sm-6 col-xs-12 wow fadeInUp" data-wow-delay="0.2s">
          <h3><img src="assets/img/logo.png" alt="Conference Bitcoin Africa Conference Logo" width="75%"></h3>
          <p>
            Join us in shaping the future of decentralized finance at the Conference Bitcoin Africa.
          </p>
        </div>
        <div class="col-md-6 col-lg-3 col-sm-6 col-xs-12 wow fadeInUp" data-wow-delay="0.4s">
          <h3>QUICK LINKS</h3>
          <ul>
            <li><a href="#what-is-francophone-africa">About French-Speaking Africa</a></li>
            <li><a href="#speakers">Our Speakers</a></li>
            <li><a href="#schedules">Event Schedule</a></li>
          </ul>
        </div>
        <div class="col-md-6 col-lg-3 col-sm-6 col-xs-12 wow fadeInUp" data-wow-delay="0.4s">
          <h3>CONTACT</h3>
          <p>You can contact us at:</p>
          <ul>
            <li><a href="mailto:sponsorship@afriquebitcoin.org">sponsorship@afriquebitcoin.org</a></li>
            <li><a href="mailto:contact@afriquebitcoin.org">contact@afriquebitcoin.org</a></li>
          </ul>
        </div>
        <div class="col-md-6 col-lg-3 col-sm-6 col-xs-12 wow fadeInUp" data-wow-delay="0.8s">
          <h3>SUBSCRIBE TO OUR NEWSLETTER</h3>
          <div class="widget">
            <div class="newsletter-wrapper">
              <form method="post" id="subscribe-form" name="subscribe-form" class="validate">
                <div class="form-group is-empty">
                  <input type="email" value="" name="Email" class="form-control" id="EMAIL" placeholder="Your email"
                    required="">
                  <button type="submit" name="subscribe" id="subscribes" class="btn btn-common sub-btn">
                    <i class="lni-pointer"></i>
                  </button>
                  <div class="clearfix"></div>
                </div>
              </form>
            </div>
          </div>
          <!-- /.widget -->
          <div class="widget">
            <h5 class="widget-title">FOLLOW US ON</h5>
            <ul class="footer-social">
              <li>
                <a class="facebook" href="https://facebook.com/BitcoinAfriqueFrancophone" target="_blank">
                  <i class="lni-facebook-filled"></i>
                </a>
              </li>
              <li>
                <a class="twitter" href="https://x.com/btcafriquefr" target="_blank">
                  <i class="lni-twitter-filled"></i>
                </a>
              </li>
              <li>
                <a class="linkedin" href="https://www.linkedin.com/company/bitcoin-afrique-francophone/" target="_blank">
                  <i class="lni-linkedin-filled"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <!-- Footer Section End -->

  <!-- Go to Top Link -->
  <a href="#" class="back-to-top">
    <i class="lni-chevron-up"></i>
  </a>

  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="assets/js/jquery-min.js"></script>
  <script src="assets/js/popper.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
  <script src="assets/js/jquery.countdown.min.js"></script>
  <script src="assets/js/jquery.nav.js"></script>
  <script src="assets/js/jquery.easing.min.js"></script>
  <script src="assets/js/wow.js"></script>
  <script src="assets/js/jquery.slicknav.js"></script>
  <script src="assets/js/nivo-lightbox.js"></script>
  <script src="assets/js/main.js"></script>

  <!-- Payment Form JavaScript -->
  <script>
    async function createInvoice() {
      const itemSelect = document.getElementById('itemSelect');
      const emailInput = document.getElementById('email');
      const payButton = document.getElementById('payButton');
      const preloader = document.getElementById('preloader');

      // Get the pass choice and email
      const selectValue = itemSelect.value;
      const [itemName, amount] = selectValue.split('|');
      const email = emailInput.value.trim();

      if (!email) {
        alert('Please enter a valid email.');
        return;
      }

      // Show the loader (above the form)
      preloader.style.display = 'block';

      try {
        const response = await fetch('https://afriquebitcoin-invoices-generation.onrender.com/create-invoice', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            amount: parseFloat(amount),
            email: email,
            item_name: itemName
          })
        });

        if (!response.ok) {
          const errorText = await response.text();
          throw new Error(`Server error: ${errorText}`);
        }

        const data = await response.json();

        if (data && data.checkoutLink) {
          // Open the link in a new tab
          window.open(data.checkoutLink, '_blank');

          // Notify user
          alert('Your invoice has been created. Please confirm your payment in the new tab.');

          // Disable fields and button
          itemSelect.disabled = true;
          emailInput.disabled = true;
          payButton.disabled = true;
        } else {
          alert('Failed to create invoice. Please try again.');
        }
      } catch (err) {
        console.error(err);
        alert('An error occurred while creating the invoice. Please try again later.');
      } finally {
        // Hide loader
        preloader.style.display = 'none';
      }
    }
  </script>
</body>

</html>
